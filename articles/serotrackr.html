<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="serotrackr">
<title>serotrackr • serotrackr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="serotrackr">
<meta property="og:description" content="serotrackr">
<meta property="og:image" content="https://serotracker.github.io/serotrackr/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">serotrackr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/serotrackr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/serotracker/serotrackr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>serotrackr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/serotracker/serotrackr/blob/HEAD/vignettes/serotrackr.Rmd" class="external-link"><code>vignettes/serotrackr.Rmd</code></a></small>
      <div class="d-none name"><code>serotrackr.Rmd</code></div>
    </div>

    
    
<p><strong><em>serotrackr</em></strong> helps you prepare your raw data
for submission to <a href="https://serotracker.com" target="_blank" class="external-link">SeroTracker</a>. We will use a sample raw dataset
included in the package to demonstrate the workflow of serotrackr:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://serotracker.github.io/serotrackr">serotrackr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sample_raw_data</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 14</span></span></span>
<span><span class="co">#&gt;   dataset_id    id age_group   age sex   adm0  adm1  adm2  collection_start_date</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          1     1 12-120        6 m     Cana… Albe… 7649… 2009/03/11           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          1     2 12-8.5       <span style="color: #BB0000;">NA</span> m     Cana… bc    7649… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          1     3 <span style="color: #BB0000;">NA</span>           23 o     Cana… Québ… 7649… 2008-03-11           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          1    28 0-10          4 other Cana… Albe… Camr… 2006/Jul.9           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          2    33 20-30        22 f     Cana… Albe… Calg… 2021|May|33          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>          2    65 110+        119 male  Cana… Albe… Banf… 11/January.2006      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: collection_end_date &lt;chr&gt;, test_id &lt;chr&gt;, result &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   result_cat &lt;chr&gt;, another_col &lt;chr&gt;</span></span></span></code></pre>
<p>Here are the steps you should follow:</p>
<div class="section level2">
<h2 id="validate-your-data">1) Validate your data<a class="anchor" aria-label="anchor" href="#validate-your-data"></a>
</h2>
<p>The first step is to use <code><a href="../reference/st_validate.html">st_validate()</a></code>. Here, you need
to specify which columns in your data contains the data that is required
for submission. Instead of unquoted column names, you can also provide a
vector of length one for most of the arguments, which would be applied
to all records in your data after validation.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">validated_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/st_validate.html">st_validate</a></span><span class="op">(</span></span>
<span>  <span class="va">sample_raw_data</span>,</span>
<span>  dataset_id <span class="op">=</span> <span class="va">dataset_id</span>,</span>
<span>  id <span class="op">=</span> <span class="va">id</span>,</span>
<span>  age_group <span class="op">=</span> <span class="va">age_group</span>,</span>
<span>  age <span class="op">=</span> <span class="va">age</span>,</span>
<span>  sex <span class="op">=</span> <span class="va">sex</span>,</span>
<span>  adm0 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm0</span><span class="op">$</span><span class="va">Canada</span>,</span>
<span>  adm1 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm1</span><span class="op">$</span><span class="va">Canada</span><span class="op">$</span><span class="va">Alberta</span>,</span>
<span>  adm2 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm2</span><span class="op">$</span><span class="va">Canada</span><span class="op">$</span><span class="va">Alberta</span><span class="op">$</span><span class="va">Calgary</span>,</span>
<span>  collection_start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span>
<span>  collection_end_date <span class="op">=</span> <span class="st">"2023-02-01"</span>,</span>
<span>  test_id <span class="op">=</span> <span class="va">assays</span><span class="op">$</span><span class="va">`SARS-CoV-2`</span><span class="op">$</span><span class="va">`AAZ LMB - IgG, IgM - COVID-PRESTO®`</span>,</span>
<span>  result <span class="op">=</span> <span class="va">result</span>,</span>
<span>  result_cat <span class="op">=</span> <span class="va">result_cat</span>,</span>
<span>  include_others <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/screenshot_1.png" width="700px"></p>
<p><br><code><a href="../reference/st_validate.html">st_validate()</a></code> produced a detailed report of any
errors which need to be addressed before proceeding. To keep things
concise, I replace <code>age_group</code>, <code>age</code>, and
<code>sex</code> with some correct values and also correct the
<code>result_cat</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">4567</span><span class="op">)</span></span>
<span><span class="va">new_raw_data</span> <span class="op">&lt;-</span> <span class="va">sample_raw_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    age_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0-9"</span>, <span class="st">"10-19"</span>, <span class="st">"20-29"</span>, <span class="st">"30-39"</span>, <span class="st">"40+"</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">20</span><span class="op">)</span>,</span>
<span>    age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">9</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">19</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">20</span><span class="op">:</span><span class="fl">29</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">30</span><span class="op">:</span><span class="fl">39</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">40</span><span class="op">:</span><span class="fl">120</span>, <span class="fl">20</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="fl">40</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="fl">40</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"o"</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    result_cat <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">result_cat</span> <span class="op">==</span> <span class="st">"neg"</span> <span class="op">~</span> <span class="st">"negative"</span>,</span>
<span>                                  <span class="va">result_cat</span> <span class="op">==</span> <span class="st">"pos"</span> <span class="op">~</span> <span class="st">"positive"</span>,</span>
<span>                                  <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">result_cat</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Now, let’s rerun <code><a href="../reference/st_validate.html">st_validate()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">validated_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/st_validate.html">st_validate</a></span><span class="op">(</span></span>
<span>  <span class="va">new_raw_data</span>,</span>
<span>  dataset_id <span class="op">=</span> <span class="va">dataset_id</span>,</span>
<span>  id <span class="op">=</span> <span class="va">id</span>,</span>
<span>  age_group <span class="op">=</span> <span class="va">age_group</span>,</span>
<span>  age <span class="op">=</span> <span class="va">age</span>,</span>
<span>  sex <span class="op">=</span> <span class="va">sex</span>,</span>
<span>  adm0 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm0</span><span class="op">$</span><span class="va">Canada</span>,</span>
<span>  adm1 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm1</span><span class="op">$</span><span class="va">Canada</span><span class="op">$</span><span class="va">Alberta</span>,</span>
<span>  adm2 <span class="op">=</span> <span class="va">regions</span><span class="op">$</span><span class="va">adm2</span><span class="op">$</span><span class="va">Canada</span><span class="op">$</span><span class="va">Alberta</span><span class="op">$</span><span class="va">Calgary</span>,</span>
<span>  collection_start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span>
<span>  collection_end_date <span class="op">=</span> <span class="st">"2023-02-01"</span>,</span>
<span>  test_id <span class="op">=</span> <span class="va">assays</span><span class="op">$</span><span class="va">`SARS-CoV-2`</span><span class="op">$</span><span class="va">`AAZ LMB - IgG, IgM - COVID-PRESTO®`</span>,</span>
<span>  result <span class="op">=</span> <span class="va">result</span>,</span>
<span>  result_cat <span class="op">=</span> <span class="va">result_cat</span>,</span>
<span>  include_others <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="../reference/figures/screenshot_2.png" width="700px"></p>
<p><br> Hooray! Here is a glimps at the validated data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">validated_df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 13</span></span></span>
<span><span class="co">#&gt;   dataset_id    id age_group   age sex    adm1       adm2  collection_start_date</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          1     1 0-9           2 Male   4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          1     2 0-9           2 Female 4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          1     3 0-9           3 Female 4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          1    28 0-9           2 Male   4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          2    33 0-9           1 Female 4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>          2    65 0-9           7 Female 4576071B9… 7649… 2023-01-01           </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: collection_end_date &lt;date&gt;, test_id &lt;chr&gt;, result &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   result_cat &lt;chr&gt;, another_col &lt;chr&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="generate-aggregate-estimates">2) Generate aggregate estimates<a class="anchor" aria-label="anchor" href="#generate-aggregate-estimates"></a>
</h2>
<p>Use <code><a href="../reference/st_aggregate.html">st_aggregate()</a></code> to generate aggregated estimates:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">estimates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/st_aggregate.html">st_aggregate</a></span><span class="op">(</span><span class="va">validated_df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">estimates</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 27</span></span></span>
<span><span class="co">#&gt;   dataset_id subgroup  strata age_group age_min age_max sex   pop_adj test_adj</span></span>
<span><span class="co">#&gt;        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>          1 overall   <span style="color: #BB0000;">NA</span>     All             1     118 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>          2 overall   <span style="color: #BB0000;">NA</span>     All             0     116 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>          1 age_group 0-9    0-9             1       6 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>          1 age_group 10-19  10-19          10      18 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>          1 age_group 20-29  20-29          20      29 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>          1 age_group 30-39  30-39          31      37 All   FALSE   FALSE   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 18 more variables: adm1 &lt;chr&gt;, adm2 &lt;chr&gt;, start_date &lt;date&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   end_date &lt;date&gt;, test_id_1 &lt;chr&gt;, test_id_2 &lt;chr&gt;, test_id_3 &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   test_combination &lt;lgl&gt;, numerator &lt;dbl&gt;, denominator &lt;int&gt;, seroprev &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   seroprev_95_ci_lower &lt;dbl&gt;, seroprev_95_ci_upper &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ab_denominator &lt;int&gt;, ab_titer_min &lt;dbl&gt;, ab_titer_max &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ab_titer_mean &lt;dbl&gt;, ab_titer_sd &lt;dbl&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="export-to-excel-for-submission">3) Export to Excel for submission<a class="anchor" aria-label="anchor" href="#export-to-excel-for-submission"></a>
</h2>
<p>The <code><a href="../reference/st_save.html">st_save()</a></code> function exports validated data and
generated estimates to an Excel document.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/st_save.html">st_save</a></span><span class="op">(</span><span class="va">validated_df</span>, <span class="va">estimates</span>, path <span class="op">=</span> <span class="st">"submission.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p>Some fields, mostly metadata, in the exported document will still
need to be filled in. The first sheet of the document has the necessary
instructions. When you are done, the document is ready to be submitted
on <a href="https://serotracker.com" target="_blank" class="external-link">SeroTracker.com</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Reza Hosseini, SeroTracker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
